{% extends "report/common/search_run.html" %}


{% block report %}
	{% if queries %}
	<div class="queries">
		<ul>
		{% for k, v in queries.iteritems %}
			<li><label>{{ k|title }}:</label>{{ v|safe }};</li>
		{% endfor %}
			<li class="clear"></li>
		</ul>
	</div>
	{% endif %}

	<div class="reportSummary01">
		<ul>
			<li>
				Plan:<span>{{ plans_count }}</span>
				Run:<span>{{ runs_count }}</span>
				Case-Run:<span>{{ caseruns_count }}</span>
			</li>
		</ul>
		<div class="clear"></div>
	</div>

	{% for tag, runs_count, caseruns_count, grouped_runs in reports %}
	<div class="reportSummary01">
		<ul><li class="tagTab">Plan Tag: <span>{{ tag }}</span></li></ul>
		<ul>
			<li>Run:<span>{{ runs_count }}</span></li>
			<li>Plan:<span>{{ runs_count }}</span></li>
			<li>CaseRun:<span>{{ caseruns_count }}</span></li>
		</ul>
		<div class="clear"></div>
	</div>

	<table width="100%" border="0" cellpadding="0" cellspacing="0" class="listTdReport">
		<tr>
			<th class="w50">Build</th>
			<th class="w90">Plan</th>
			<th class="w200">Run</th>
			<th class="w50">Idle</th>
			<th class="w50">Running</th>
			<th class="w50">Paused</th>
			<th class="w50">Passed</th>
			<th class="w50">Failed</th>
			<th class="w50">Blocked</th>
			<th class="w50">Error</th>
			<th class="w50">Waived</th>
		</tr>
		{% for build, runs in grouped_runs %}
			{% for run in runs %}
			<tr>
				{% ifequal forloop.counter 1 %}
				<td rowspan="{{runs|length}}" class="bgRowspan"><span>{{ build }}</span></td>
				{% endifequal %}
				<td><span><a href="/plan/{{run.plan.pk}}/">{{ run.plan }}</a></span></td>
				<td><span>{{ run.summary }}</span></td>
				<td>{{ run.idle_count }}</td>
				<td>{{ run.running_count }}</td>
				<td>{{ run.paused_count }}</td>
				<td>{{ run.passed_count }}</td>
				<td>{{ run.failed_count }}</td>
				<td>{{ run.blocked_count }}</td>
				<td>{{ run.error_count }}</td>
				<td>{{ run.waived_count }}</td>
			</tr>
			{% endfor %}
		{% endfor %}
	</table>
	{% endfor %}
{% endblock %}
