{% extends "tcms_base.html" %}

{% block subtitle %}Execute test run - {{ testrun.summary }}{% endblock %}

{% block custom_stylesheet %}
{% endblock %}

{% block custom_javascript %}
<script type="text/javascript" src='{{ MEDIA_URL }}/js/lib/validations.js'></script>
<script type="text/javascript" src='{{ MEDIA_URL }}/js/testcase_actions.js'></script>
<script type="text/javascript" src='{{ MEDIA_URL }}/js/testrun_actions.js'></script>
<script type="text/javascript">
// Define the case_run_status array for all of case run status
var all_case_run_status = new Array();

{% for crs in case_run_status %}
all_case_run_status[{{ forloop.counter0 }}] = [{{ crs.id }}, '{{ crs.name|lower }}'];
{% endfor %}

Nitrate.Utils.after_page_load(Nitrate.TestRuns.Execute.on_load);
</script>
{% endblock %}

{% block contents %}

<div id="content">
	<div class="crumble">
		<a href="{% url tcms.core.views.index %}">Home</a>
		>> <a href="{% url tcms.testplans.views.get testrun.plan_id %}" title="Test Plan: {{ testrun.plan.name }}">Plan :{{ testrun.plan.plan_id }}</a>
		>> <a href="{% url tcms.testruns.views.get testrun.run_id %}" title="Test Run : {{ testrun.run_id }}: {{ testrun.summary }}">{{ testrun.run_id }}: {{ testrun.summary }}</a>
		>> Execute
	</div>
	<h3><a href="{% url tcms.testruns.views.get testrun.run_id %}">{{ testrun.summary }}</a></h3>
	<fieldset name="" id="" class="option_prefer">
		<legend class="strong">Testing Option</legend>
		<input id="id_check_box_auto_blinddown" type="checkbox" checked=true />
		<label for="id_check_box_auto_blinddown"> Automatically display next test case</label><br />
        <input id="id_check_box_blinddownallcase" type="checkbox" />
		<label for="id_check_box_blinddownallcase"> Expand all case</label><br/>
        <input id="id_check_box_highlight" type="checkbox" />
        <label for="id_check_box_highlight">Highligt My Assigned Runs</label>
        
	</fieldset>
	<div class="listinfo_content" style="width:70%;">
    <div class="leftlistinfo">
		<div class="listinfo">
			<span class="title">Test Plan:</span> 
			<a href="{% url tcms.testplans.views.get testrun.plan_id %}">{{ testrun.plan.plan_id }} : {{ testrun.plan.name }}</a>
		</div>
		<div class="listinfo">
			<span class="title">Product:</span> 
			{{ testrun.plan.product.name }}
			({{ testrun.plan.default_product_version }})
		</div>
        
		<div class="listinfo">
			<div class="title">Environment:</div>
            <div class="linotype"><ul>
           
				{% for run_env_value in testrun.env_value.select_related.all %}
				
					<li>{{ run_env_value.property }}: {{ run_env_value.value }}</li>
				{% empty %}
					<li class="grey">No environment.</li>
				{% endfor %}
                </ul></div>
			
		</div>
        </div>
        <div class="leftlistinfo">
        <div class="listinfo">
			<span class="title">Build:</span> 
			 {{ testrun.build }}
		</div>
		<div class="listinfo">
			<span class="title">Start Date:</span> {{ testrun.start_date }}
		</div>
        <div class="listinfo">
			<span class="title">Running Date:</span> {{ testrun.running_date }}
		</div>
        </div>
        <div class="clear"></div>
	</div>
	<div id="executeList" class="Detailform border-top"> 
		{% for test_case_run in testrun_relate_testcases %}
		<div class="case_run" id="id_container_case_run_{{ forloop.counter }}">
			{% include "run/execute_case_run.html" %}
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
